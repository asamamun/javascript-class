<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <style>
        #calcContainer{
            width: 350px;
            background-color: #cccccc;
            margin: 0 auto;
            margin-top: 100px;
        }
        #display{ text-align: right; font-size: 1.5em;}
        .calc{border: 2px double green; padding: 10px;}
        .calc button{ width: 50px; }
    </style>
</head>
<body>
    <h1>Basic Calculator In Javascript</h1>
    <div id="calcContainer">
        
        <div class="calc">
            <input type="text" id="display" class="form-control" readonly>
            <div class="d-flex mt-1 justify-content-between">
                <button class="d-block btn btn-secondary" title="Clear All Memory" onclick="display('mclear')">MC</button>
                <button class="d-block  btn btn-secondary" title="Memory Recall" onclick="display('mcall')">MR</button>
                <button class="d-block  btn btn-secondary" title="Memory Add" onclick="display('madd')">M+</button>
                
            </div>
            <div class="d-flex mt-1 justify-content-between">
                <button class="d-block btn btn-secondary">%</button>
                <button class="d-block btn btn-secondary" onclick="display('cls')">CE</button>
                <button class="d-block btn btn-secondary" onclick="display('cls')">C</button>
                <button class="d-block btn btn-secondary" onclick="display('back')">&#8592;</button>                
            </div>
            <div class="d-flex mt-1 justify-content-between">
                <button class="d-block btn btn-secondary" onclick="display('1byx')">1/x</button>
                <button class="d-block btn btn-secondary" onclick="display('sq')">x <sup>2</sup></button>
                <button class="d-block btn btn-secondary" onclick="display('root')">&Sqrt;</button>
                <button class="d-block btn btn-secondary" onclick="display('/')">/</button>                
            </div>
            <div class="d-flex mt-1 justify-content-between">
                <button class="d-block btn btn-secondary" onclick="display('7')">7</button>
                <button class="d-block btn btn-secondary" onclick="display('8')">8</button>
                <button class="d-block btn btn-secondary" onclick="display('9')">9</button>
                <button class="d-block btn btn-secondary" onclick="display('*')">X</button>                
            </div>
            <div class="d-flex mt-1 justify-content-between">
                <button class="d-block btn btn-secondary" onclick="display('4')">4</button>
                <button class="d-block btn btn-secondary" onclick="display('5')">5</button>
                <button class="d-block btn btn-secondary" onclick="display('6')">6</button>
                <button class="d-block btn btn-secondary" onclick="display('-')">-</button>                
            </div>
            <div class="d-flex mt-1 justify-content-between">
                <button class="d-block btn btn-secondary" onclick="display('1')">1</button>
                <button class="d-block btn btn-secondary" onclick="display('2')">2</button>
                <button class="d-block btn btn-secondary" onclick="display('3')">3</button>
                <button class="d-block btn btn-secondary" onclick="display('+')">+</button>                
            </div>
            <div class="d-flex mt-1 justify-content-between">
                <button class="d-block btn btn-secondary"  onclick="display('signchange')">+/-</button>
                <button class="d-block btn btn-secondary" onclick="display('0')">0</button>
                <button class="d-block btn btn-secondary" onclick="display('.')">.</button>
                <button class="d-block btn btn-primary"  onclick="display('=')">=</button>                
            </div>
        </div>
    </div>
    <script>
        function display(n){
            if(n=="madd"){
                localStorage.setItem("calcval",document.getElementById("display").value);
            }
            else if(n=="mcall"){
                if(localStorage.getItem("calcval") != null)
                document.getElementById("display").value += localStorage.getItem("calcval");
            }
            else if(n=="mclear"){
                localStorage.removeItem("calcval");
            }
            else if(n=="root"){
                document.getElementById("display").value = Math.sqrt(document.getElementById("display").value);
            }
            else if(n=="sq"){
                document.getElementById("display").value = eval(eval(document.getElementById("display").value) * eval(document.getElementById("display").value));
            }
            else if(n=="1byx"){
                document.getElementById("display").value = eval("1/"+document.getElementById("display").value);
            }
            else if(n=="back"){
                var c = document.getElementById("display").value;
                document.getElementById("display").value = c.substr(0,c.length-1);
            }
            else if(n == "="){
                document.getElementById("display").value = eval(document.getElementById("display").value);
            }
            else if(n == "cls"){
                document.getElementById("display").value = "";
            }
            else{
                document.getElementById("display").value += n;
            }
            
        }
    </script>
</body>
</html>